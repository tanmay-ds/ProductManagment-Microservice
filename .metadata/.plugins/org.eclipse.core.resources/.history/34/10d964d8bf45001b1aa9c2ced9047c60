package com.productmanagment.userinfo.web.rest;

import org.springframework.http.ResponseEntity;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@Validated
@RestController
@RequestMapping("/users")
public class UserRestController {

	@PostMapping("createuser")
	public ResponseEntity<ResponseModel> createUser(@RequestBody List<@Valid Users> users) throws InvalidKeyException,
			NoSuchAlgorithmException, NoSuchPaddingException, IllegalBlockSizeException, BadPaddingException {
		return ResponseEntity.ok(new ResponseModel(new Date().toString(), HttpStatus.OK,
				Collections.singletonMap(Constants.MESSAGE_KEY, proService.createUser(users))));
	}
	
}
